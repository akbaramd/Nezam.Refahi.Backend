@{
    ViewData["Title"]  = ViewBag.PageTitle;
    ViewBag.PageTitle  = "داشبورد";
    ViewBag.PTitle     = "پنل مدیریت";

    // Static data - replace with your actual data source
    int unreadMessageCount = 0; // Static unread message count

}

<!-- Start Content-->
<div class="container-fluid">
  <div class="row">
    <div class="col">
      @if (TempData["SuccessMessage"] != null)
      {
        <alert type="success" message="@TempData["SuccessMessage"]" icon="ri-check-double-line"></alert>
      }

      <div class="h-100">
        <div class="row">
          <div class="col-lg-12">
            <div class="mb-4">
              <h5 class="mb-0 fw-bold">درخواست ها</h5>
              <p class="text-muted mt-1">لیست درخواست‌هایی که مالکان می‌توانند ارسال کنند</p>
            </div>

            <div class="row g-3">
              <!-- UTM Card -->
              <div class="col-6 col-md-4 col-lg-3">
                <a href="@Url.ActionLink("Index", "UTM")" class="text-decoration-none">
                  <div class="card dashboard-card h-100 border-0 shadow-sm">
                    <div class="card-body p-3 text-center">
                      <div class="avatar-sm bg-primary-subtle text-primary rounded-circle mx-auto mb-3 position-relative">
                        <i class="ri-map-pin-line fs-3"></i>
                        @if (unreadMessageCount > 0)
                        {
                          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                            @unreadMessageCount
                          </span>
                        }
                      </div>
                      <h6 class="card-title mb-1">نقشه‌برداری UTM</h6>
                      <p class="small text-muted mb-0">مدیریت اطلاعات نقشه‌ها</p>
                    </div>
                  </div>
                </a>
              </div>

              <!-- User Management Card -->
              <div class="col-6 col-md-4 col-lg-3">
                <a href="@Url.ActionLink("Index", "Users")" class="text-decoration-none">
                  <div class="card dashboard-card h-100 border-0 shadow-sm">
                    <div class="card-body p-3 text-center">
                      <div class="avatar-sm bg-success-subtle text-success rounded-circle mx-auto mb-3">
                        <i class="ri-user-settings-line fs-3"></i>
                      </div>
                      <h6 class="card-title mb-1">مدیریت کاربران</h6>
                      <p class="small text-muted mb-0">مدیریت کاربران و نقش‌ها</p>
                    </div>
                  </div>
                </a>
              </div>

              <!-- Settings Card -->
              <div class="col-6 col-md-4 col-lg-3">
                <a href="@Url.ActionLink("Index", "Settings")" class="text-decoration-none">
                  <div class="card dashboard-card h-100 border-0 shadow-sm">
                    <div class="card-body p-3 text-center">
                      <div class="avatar-sm bg-warning-subtle text-warning rounded-circle mx-auto mb-3">
                        <i class="ri-settings-3-line fs-3"></i>
                      </div>
                      <h6 class="card-title mb-1">تنظیمات</h6>
                      <p class="small text-muted mb-0">تنظیمات سیستم</p>
                    </div>
                  </div>
                </a>
              </div>

              <!-- Reports Card -->
              <div class="col-6 col-md-4 col-lg-3">
                <a href="@Url.ActionLink("Index", "Reports")" class="text-decoration-none">
                  <div class="card dashboard-card h-100 border-0 shadow-sm">
                    <div class="card-body p-3 text-center">
                      <div class="avatar-sm bg-info-subtle text-info rounded-circle mx-auto mb-3">
                        <i class="ri-bar-chart-line fs-3"></i>
                      </div>
                      <h6 class="card-title mb-1">گزارشات</h6>
                      <p class="small text-muted mb-0">گزارشات و آمار</p>
                    </div>
                  </div>
                </a>
              </div>
            </div>

            <!-- Statistics Section -->
            <div class="row mt-4">
              <div class="col-lg-12">
                <div class="mb-4">
                  <h5 class="mb-0 fw-bold">آمار کلی</h5>
                  <p class="text-muted mt-1">آمار و اطلاعات کلی سیستم</p>
                </div>

                <div class="row g-3">
                  <!-- Total Users -->
                  <div class="col-6 col-md-3">
                    <div class="card border-0 shadow-sm">
                      <div class="card-body p-3">
                        <div class="d-flex align-items-center">
                          <div class="flex-shrink-0">
                            <div class="avatar-sm bg-primary-subtle text-primary rounded">
                              <i class="ri-user-line fs-4"></i>
                            </div>
                          </div>
                          <div class="flex-grow-1 ms-3">
                            <h6 class="mb-0 fw-semibold">150</h6>
                            <p class="text-muted mb-0 small">کل کاربران</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Active Requests -->
                  <div class="col-6 col-md-3">
                    <div class="card border-0 shadow-sm">
                      <div class="card-body p-3">
                        <div class="d-flex align-items-center">
                          <div class="flex-shrink-0">
                            <div class="avatar-sm bg-success-subtle text-success rounded">
                              <i class="ri-file-list-line fs-4"></i>
                            </div>
                          </div>
                          <div class="flex-grow-1 ms-3">
                            <h6 class="mb-0 fw-semibold">45</h6>
                            <p class="text-muted mb-0 small">درخواست‌های فعال</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Completed Tasks -->
                  <div class="col-6 col-md-3">
                    <div class="card border-0 shadow-sm">
                      <div class="card-body p-3">
                        <div class="d-flex align-items-center">
                          <div class="flex-shrink-0">
                            <div class="avatar-sm bg-info-subtle text-info rounded">
                              <i class="ri-check-double-line fs-4"></i>
                            </div>
                          </div>
                          <div class="flex-grow-1 ms-3">
                            <h6 class="mb-0 fw-semibold">320</h6>
                            <p class="text-muted mb-0 small">وظایف تکمیل شده</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- System Status -->
                  <div class="col-6 col-md-3">
                    <div class="card border-0 shadow-sm">
                      <div class="card-body p-3">
                        <div class="d-flex align-items-center">
                          <div class="flex-shrink-0">
                            <div class="avatar-sm bg-warning-subtle text-warning rounded">
                              <i class="ri-server-line fs-4"></i>
                            </div>
                          </div>
                          <div class="flex-grow-1 ms-3">
                            <h6 class="mb-0 fw-semibold">آنلاین</h6>
                            <p class="text-muted mb-0 small">وضعیت سیستم</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .avatar-sm{height:3rem;width:3rem;display:flex;align-items:center;justify-content:center}
  .dashboard-card{transition:transform .2s,box-shadow .2s;border-radius:12px}
  a:hover .dashboard-card{transform:translateY(-5px);box-shadow:0 .5rem 1rem rgba(0,0,0,.1)!important}
  .card-title{font-size:.95rem;font-weight:600}
  .small{font-size:.8rem}
  .coming-soon{opacity:.6;background:#f8f9fa;cursor:default}
  .badge{font-size:.65rem;min-width:1.5rem}
  @@media (max-width:576px){
    .avatar-sm{height:2.5rem;width:2.5rem}
    .fs-3{font-size:1.2rem!important}
    .card-title{font-size:.9rem}
    .small{font-size:.75rem}
    .card-body{padding:.75rem!important}
    .badge{font-size:.6rem;min-width:1.2rem;padding:.2rem .4rem}
  }
</style>
